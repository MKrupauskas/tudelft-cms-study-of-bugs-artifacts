The change in #47100 was interacting poorly on the 2018.3 branch with tests. The change was causing the test suite to run very slowly (taking 8+ hours to run, and usually not even finishing). The slowness was particularly noticeable in the salt-ssh tests.

#47100 needs to be added to the 2018.3 branch, but fix the test suite issues separately from a merge-forward.

ping @gtmanfred 