I have a profile and provider configuration that I am endeavouring to use to create an Amazon EC2 instance. This configuration works with salt 2014.7.4 (in so far as an EC2 instance is created, though salt-cloud fails to communicate with the new instance due to what I think is the problem described in https://github.com/saltstack/salt/issues/20565). The same configuration completely fails with an ‘AWS was not able to validate the provided access credentials’ message when using salt 2015.2.0rc2 or the latest development head (2015.2.0-972-g60add3e).

Version information:

```
# salt --versions-report
Salt Version:
           Salt: 2015.2.0-972-g60add3e

Dependency Versions:
         Jinja2: 2.7.3
       M2Crypto: 0.22
           Mako: Not Installed
         PyYAML: 3.11
          PyZMQ: 14.5.0
         Python: 2.7.9 (default, Jan  9 2015, 14:27:53)
           RAET: Not Installed
            ZMQ: 4.0.5
          ioflo: Not Installed
        libnacl: Not Installed
   msgpack-pure: Not Installed
 msgpack-python: 0.4.2
       pycrypto: 2.6.1

System Versions:
           dist:   
        machine: amd64
        release: 9.3-RELEASE-p10
```

Running the command to show the error:

```
# salt-cloud -l all --profile=freebsd_ec2 test.example.com
[DEBUG   ] Missing configuration file: /etc/salt/cloud
[DEBUG   ] Reading configuration from /etc/salt/master
[DEBUG   ] Using cached minion ID from /usr/local/etc/salt/minion_id: gw-ams-0.araxis.net
[DEBUG   ] Missing configuration file: /etc/salt/cloud.providers
[DEBUG   ] Including configuration from '/etc/salt/cloud.providers.d/ec2.conf'
[DEBUG   ] Reading configuration from /etc/salt/cloud.providers.d/ec2.conf
[DEBUG   ] Missing configuration file: /etc/salt/cloud.profiles
[DEBUG   ] Including configuration from '/etc/salt/cloud.profiles.d/amazon_linux.conf'
[DEBUG   ] Reading configuration from /etc/salt/cloud.profiles.d/amazon_linux.conf
[DEBUG   ] Including configuration from '/etc/salt/cloud.profiles.d/freebsd_ec2.conf'
[DEBUG   ] Reading configuration from /etc/salt/cloud.profiles.d/freebsd_ec2.conf
[TRACE   ] The profile 'amazon_linux' is defining 'ec2-eu-west-1' as the provider. Since there's no valid configuration for that provider, the profile will be removed from the available listing
[TRACE   ] None of the required configuration sections, 'logstash_udp_handler' and 'logstash_zmq_handler', were found the in the configuration. Not loading the Logstash logging handlers module.
[TRACE   ] The required configuration section, 'fluent_handler', was not found the in the configuration. Not loading the fluent logging handlers module.
[DEBUG   ] Configuration file path: /etc/salt/master
[TRACE   ] Trying pysss.getgrouplist for 'root'
[TRACE   ] Trying generic group list for 'root'
[TRACE   ] Group list for user 'root': ['operator']
[INFO    ] salt-cloud starting
[TRACE   ] 'parallels.avail_sizes' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] Could not LazyLoad parallels.avail_sizes
[TRACE   ] 'parallels.avail_locations' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] LazyLoaded parallels.avail_locations
[TRACE   ] 'proxmox.avail_sizes' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] LazyLoaded proxmox.avail_sizes
[TRACE   ] 'saltify.destroy' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] Could not LazyLoad saltify.destroy
[TRACE   ] 'saltify.avail_sizes' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] Could not LazyLoad saltify.avail_sizes
[TRACE   ] 'saltify.avail_images' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] Could not LazyLoad saltify.avail_images
[TRACE   ] 'saltify.avail_locations' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] Could not LazyLoad saltify.avail_locations
[TRACE   ] 'rackspace.reboot' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] LazyLoaded rackspace.reboot
[TRACE   ] 'openstack.list_locations' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] LazyLoaded openstack.list_locations
[TRACE   ] 'rackspace.list_locations' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] LazyLoaded rackspace.list_locations
[TRACE   ] 'parallels.avail_sizes' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] Could not LazyLoad parallels.avail_sizes
[TRACE   ] 'parallels.avail_locations' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] LazyLoaded parallels.avail_locations
[TRACE   ] 'proxmox.avail_sizes' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] LazyLoaded proxmox.avail_sizes
[TRACE   ] 'saltify.destroy' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] Could not LazyLoad saltify.destroy
[TRACE   ] 'saltify.avail_sizes' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] Could not LazyLoad saltify.avail_sizes
[TRACE   ] 'saltify.avail_images' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] Could not LazyLoad saltify.avail_images
[TRACE   ] 'saltify.avail_locations' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] Could not LazyLoad saltify.avail_locations
[TRACE   ] 'rackspace.reboot' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] LazyLoaded rackspace.reboot
[TRACE   ] 'openstack.list_locations' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] LazyLoaded openstack.list_locations
[TRACE   ] 'rackspace.list_locations' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] LazyLoaded rackspace.list_locations
[DEBUG   ] Using AWS endpoint: ec2.eu-west-1.amazonaws.com
[DEBUG   ] AWS Request: https://ec2.eu-west-1.amazonaws.com/?Action=DescribeInstances&Version=2014-10-01
[TRACE   ] AWS Request Parameters: {}
[DEBUG   ] AWS Response Status Code: 200
[TRACE   ] AWS Response Text: <?xml version="1.0" encoding="UTF-8"?>
<DescribeInstancesResponse xmlns="http://ec2.amazonaws.com/doc/2014-10-01/">
    <requestId>6ca0d6d3-0869-449c-b0bb-68f27c945862</requestId>
    <reservationSet/>
</DescribeInstancesResponse>
[DEBUG   ] Generating minion keys for 'test.example.com'
[DEBUG   ] MasterEvent PUB socket URI: ipc:///var/run/salt/master/master_event_pub.ipc
[DEBUG   ] MasterEvent PULL socket URI: ipc:///var/run/salt/master/master_event_pull.ipc
[DEBUG   ] Sending event - data = {'profile': 'freebsd_ec2', 'event': 'starting create', '_stamp': '2015-04-09T09:01:04.746741', 'name': 'test.example.com', 'provider': 'ec2_eu_west_1:ec2'}
[INFO    ] Creating Cloud VM test.example.com in eu-west-1
[DEBUG   ] Using AWS endpoint: ec2.eu-west-1.amazonaws.com
[DEBUG   ] AWS Request: https://ec2.eu-west-1.amazonaws.com/?Action=DescribeAvailabilityZones&Filter.0.Name=region-name&Filter.0.Value.0=eu-west-1&Version=2014-10-01
[TRACE   ] AWS Request Parameters: {}
[DEBUG   ] AWS Response Status Code: 200
[TRACE   ] AWS Response Text: <?xml version="1.0" encoding="UTF-8"?>
<DescribeAvailabilityZonesResponse xmlns="http://ec2.amazonaws.com/doc/2014-10-01/">
    <requestId>cc6b761c-f5df-49ce-be6e-a39819f9122f</requestId>
    <availabilityZoneInfo>
        <item>
            <zoneName>eu-west-1a</zoneName>
            <zoneState>available</zoneState>
            <regionName>eu-west-1</regionName>
            <messageSet/>
        </item>
        <item>
            <zoneName>eu-west-1b</zoneName>
            <zoneState>available</zoneState>
            <regionName>eu-west-1</regionName>
            <messageSet/>
        </item>
        <item>
            <zoneName>eu-west-1c</zoneName>
            <zoneState>available</zoneState>
            <regionName>eu-west-1</regionName>
            <messageSet/>
        </item>
    </availabilityZoneInfo>
</DescribeAvailabilityZonesResponse>
[DEBUG   ] MasterEvent PUB socket URI: ipc:///var/run/salt/master/master_event_pub.ipc
[DEBUG   ] MasterEvent PULL socket URI: ipc:///var/run/salt/master/master_event_pull.ipc
[DEBUG   ] Sending event - data = {'event': 'requesting instance', '_stamp': '2015-04-09T09:01:05.969410', 'location': 'eu-west-1', 'kwargs': {'SecurityGroup.1': 'default', 'ImageId': 'ami-3013a747', 'KeyName': 'Araxis EC2 User', 'Placement.AvailabilityZone': 'eu-west-1a', 'MaxCount': 1, 'Action': 'RunInstances', 'MinCount': 1, 'InstanceType': 't2.micro'}}
[DEBUG   ] Using AWS endpoint: ec2.eu-west-1.amazonaws.com
[DEBUG   ] AWS Request: https://ec2.eu-west-1.amazonaws.com/?Action=RunInstances&ImageId=ami-3013a747&InstanceType=t2.micro&KeyName=Araxis+EC2+User&MaxCount=1&MinCount=1&Placement.AvailabilityZone=eu-west-1a&SecurityGroup.1=default&Version=2014-10-01
[TRACE   ] AWS Request Parameters: {}
[DEBUG   ] AWS Response Status Code: 401
[TRACE   ] AWS Response Text: <?xml version="1.0" encoding="UTF-8"?>
<Response><Errors><Error><Code>AuthFailure</Code><Message>AWS was not able to validate the provided access credentials</Message></Error></Errors><RequestID>d4121905-c426-49c5-a2b8-d38c8eeb1327</RequestID></Response>
[ERROR   ] AWS Response Status Code and Error: [401 401 Client Error: Unauthorized] {'Errors': {'Error': {'Message': 'AWS was not able to validate the provided access credentials', 'Code': 'AuthFailure'}}, 'RequestID': 'd4121905-c426-49c5-a2b8-d38c8eeb1327'}
[ERROR   ] Error requesting instance: Errors
Error: There was a profile error: Failed to deploy VM
```

/etc/salt/cloud.providers.d/ec2.conf:

```
ec2-eu-west-1:
    # Set up the location of the salt master
    #
    minion:
        master: gw-ams-0.araxis.net

    # Set up grains information, which will be common for all nodes
    # using this provider
    # grains:
    #   node_type: broker
    #   release: 1.0.1

    # Specify whether to use public or private IP for deploy script.
    #
    # Valid options are:
    #     private_ips - The salt-master is also hosted with EC2
    #     public_ips - The salt-master is hosted outside of EC2
    #
    ssh_interface: public_ips

    # Set the EC2 access credentials (see below)
    #
    id: <REDACTED>
    key: <REDACTED>

    # Make sure this key is owned by root with permissions 0400.
    #
    private_key: /etc/salt/keys/araxis-ec2-user
    keyname: 'Araxis EC2 User'
    securitygroup: default

    # Optionally configure default region
    # (Ireland)
    # aws ec2 describe-regions --region eu-west-1
    # aws ec2 describe-availability-zones --region eu-west-1
    location: eu-west-1
    availability_zone: eu-west-1a

    # Configure which user to use to run the deploy script. This setting is
    # dependent upon the AMI that is used to deploy. It is usually safer to
    # configure this individually in a profile, than globally.
    ssh_username: ec2-user

    # Optionally add an IAM profile
    #iam_profile: 'arn:aws:iam::123456789012:instance-profile/ExampleInstanceProfile'

    provider: ec2
```

/etc/salt/cloud.profiles.d/freebsd_ec2.conf:

```
freebsd_ec2:
    provider: ec2-eu-west-1
    image: ami-3013a747
    size: t2.micro
    minion:
        role: webserver
```

Reverting to salt 2014.7.4, then running the same command as above (with successful EC2 instance creation), with the same configuration:

```
# rm -rf /usr/local/lib/python2.7/site-packages/salt*
# curl -o install_salt.sh -L https://bootstrap.saltstack.com
# sh install_salt.sh -M -L git v2014.7.4
# salt-cloud -l all --profile=freebsd_ec2 test.example.com
[DEBUG   ] Missing configuration file: /etc/salt/cloud
[DEBUG   ] Reading configuration from /etc/salt/master
[DEBUG   ] Using cached minion ID from /usr/local/etc/salt/minion_id: gw-ams-0.araxis.net
[DEBUG   ] Missing configuration file: /etc/salt/cloud.providers
[DEBUG   ] Including configuration from '/etc/salt/cloud.providers.d/ec2.conf'
[DEBUG   ] Reading configuration from /etc/salt/cloud.providers.d/ec2.conf
[DEBUG   ] Missing configuration file: /etc/salt/cloud.profiles
[DEBUG   ] Including configuration from '/etc/salt/cloud.profiles.d/amazon_linux.conf'
[DEBUG   ] Reading configuration from /etc/salt/cloud.profiles.d/amazon_linux.conf
[DEBUG   ] Including configuration from '/etc/salt/cloud.profiles.d/freebsd_ec2.conf'
[DEBUG   ] Reading configuration from /etc/salt/cloud.profiles.d/freebsd_ec2.conf
[WARNING ] The profile 'amazon_linux' is defining 'ec2-eu-west-1' as the provider. Since there's no valid configuration for that provider, the profile will be removed from the available listing
[TRACE   ] loading log_handlers in ['/usr/local/var/cache/salt/extmods/log_handlers', '/usr/local/lib/python2.7/site-packages/salt/log/handlers']
[TRACE   ] Skipping /usr/local/var/cache/salt/extmods/log_handlers, it is not a directory
[TRACE   ] None of the required configuration sections, 'logstash_udp_handler' and 'logstash_zmq_handler', were found the in the configuration. Not loading the Logstash logging handlers module.
[DEBUG   ] Configuration file path: /etc/salt/master
[TRACE   ] Trying pysss.getgrouplist for 'root'
[TRACE   ] Trying generic group list for 'root'
[TRACE   ] Group list for user 'root': ['operator']
[INFO    ] salt-cloud starting
[TRACE   ] loading cloud in ['/usr/local/var/cache/salt/extmods/clouds', '/usr/local/lib/python2.7/site-packages/salt/cloud/clouds']
[TRACE   ] Skipping /usr/local/var/cache/salt/extmods/clouds, it is not a directory
[TRACE   ] Added saltify.create to cloud
[TRACE   ] Added saltify.get_configured_provider to cloud
[TRACE   ] Added saltify.list_nodes to cloud
[TRACE   ] Added saltify.list_nodes_full to cloud
[TRACE   ] Added saltify.list_nodes_select to cloud
[TRACE   ] Added saltify.script to cloud
[TRACE   ] Added lxc.SaltCloudSystemExit to cloud
[TRACE   ] Added lxc.avail_images to cloud
[TRACE   ] Added lxc.create to cloud
[TRACE   ] Added lxc.destroy to cloud
[TRACE   ] Added lxc.get_configured_provider to cloud
[TRACE   ] Added lxc.get_provider to cloud
[TRACE   ] Added lxc.list_nodes to cloud
[TRACE   ] Added lxc.list_nodes_full to cloud
[TRACE   ] Added lxc.list_nodes_select to cloud
[TRACE   ] Added lxc.pformat to cloud
[TRACE   ] Added lxc.show_instance to cloud
[TRACE   ] Added ec2.SaltCloudExecutionFailure to cloud
[TRACE   ] Added ec2.SaltCloudExecutionTimeout to cloud
[TRACE   ] Added ec2.SaltCloudSystemExit to cloud
[TRACE   ] Added ec2.attach_volume to cloud
[TRACE   ] Added ec2.avail_images to cloud
[TRACE   ] Added ec2.avail_locations to cloud
[TRACE   ] Added ec2.avail_sizes to cloud
[TRACE   ] Added ec2.block_device_mappings to cloud
[TRACE   ] Added ec2.copy_snapshot to cloud
[TRACE   ] Added ec2.create to cloud
[TRACE   ] Added ec2.create_attach_volumes to cloud
[TRACE   ] Added ec2.create_keypair to cloud
[TRACE   ] Added ec2.create_snapshot to cloud
[TRACE   ] Added ec2.create_volume to cloud
[TRACE   ] Added ec2.del_tags to cloud
[TRACE   ] Added ec2.delete_keypair to cloud
[TRACE   ] Added ec2.delete_snapshot to cloud
[TRACE   ] Added ec2.delete_volume to cloud
[TRACE   ] Added ec2.delvol_on_destroy to cloud
[TRACE   ] Added ec2.describe_snapshots to cloud
[TRACE   ] Added ec2.describe_volumes to cloud
[TRACE   ] Added ec2.destroy to cloud
[TRACE   ] Added ec2.detach_volume to cloud
[TRACE   ] Added ec2.disable_term_protect to cloud
[TRACE   ] Added ec2.enable_term_protect to cloud
[TRACE   ] Added ec2.get_availability_zone to cloud
[TRACE   ] Added ec2.get_configured_provider to cloud
[TRACE   ] Added ec2.get_console_output to cloud
[TRACE   ] Added ec2.get_location to cloud
[TRACE   ] Added ec2.get_placementgroup to cloud
[TRACE   ] Added ec2.get_spot_config to cloud
[TRACE   ] Added ec2.get_ssh_gateway_config to cloud
[TRACE   ] Added ec2.get_subnetid to cloud
[TRACE   ] Added ec2.get_tags to cloud
[TRACE   ] Added ec2.get_tenancy to cloud
[TRACE   ] Added ec2.iam_profile to cloud
[TRACE   ] Added ec2.keepvol_on_destroy to cloud
[TRACE   ] Added ec2.keyname to cloud
[TRACE   ] Added ec2.list_availability_zones to cloud
[TRACE   ] Added ec2.list_nodes to cloud
[TRACE   ] Added ec2.list_nodes_full to cloud
[TRACE   ] Added ec2.list_nodes_min to cloud
[TRACE   ] Added ec2.list_nodes_select to cloud
[TRACE   ] Added ec2.optimize_providers to cloud
[TRACE   ] Added ec2.query to cloud
[TRACE   ] Added ec2.query_instance to cloud
[TRACE   ] Added ec2.queue_instances to cloud
[TRACE   ] Added ec2.reboot to cloud
[TRACE   ] Added ec2.rename to cloud
[TRACE   ] Added ec2.request_instance to cloud
[TRACE   ] Added ec2.script to cloud
[TRACE   ] Added ec2.securitygroup to cloud
[TRACE   ] Added ec2.securitygroupid to cloud
[TRACE   ] Added ec2.set_tags to cloud
[TRACE   ] Added ec2.show_delvol_on_destroy to cloud
[TRACE   ] Added ec2.show_image to cloud
[TRACE   ] Added ec2.show_instance to cloud
[TRACE   ] Added ec2.show_keypair to cloud
[TRACE   ] Added ec2.show_term_protect to cloud
[TRACE   ] Added ec2.show_volume to cloud
[TRACE   ] Added ec2.ssh_interface to cloud
[TRACE   ] Added ec2.start to cloud
[TRACE   ] Added ec2.stop to cloud
[TRACE   ] Added ec2.wait_for_instance to cloud
[DEBUG   ] 'parallels.avail_sizes' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] 'parallels.avail_locations' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] 'proxmox.avail_sizes' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] 'saltify.destroy' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] 'saltify.avail_sizes' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] 'saltify.avail_images' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] 'saltify.avail_locations' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] 'rackspace.reboot' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] 'openstack.list_locations' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] 'rackspace.list_locations' has been marked as not supported. Removing from the list of supported cloud functions
[TRACE   ] loading cloud in ['/usr/local/var/cache/salt/extmods/clouds', '/usr/local/lib/python2.7/site-packages/salt/cloud/clouds']
[TRACE   ] Skipping /usr/local/var/cache/salt/extmods/clouds, it is not a directory
[TRACE   ] Added saltify.create to cloud
[TRACE   ] Added saltify.get_configured_provider to cloud
[TRACE   ] Added saltify.list_nodes to cloud
[TRACE   ] Added saltify.list_nodes_full to cloud
[TRACE   ] Added saltify.list_nodes_select to cloud
[TRACE   ] Added saltify.script to cloud
[TRACE   ] Added lxc.SaltCloudSystemExit to cloud
[TRACE   ] Added lxc.avail_images to cloud
[TRACE   ] Added lxc.create to cloud
[TRACE   ] Added lxc.destroy to cloud
[TRACE   ] Added lxc.get_configured_provider to cloud
[TRACE   ] Added lxc.get_provider to cloud
[TRACE   ] Added lxc.list_nodes to cloud
[TRACE   ] Added lxc.list_nodes_full to cloud
[TRACE   ] Added lxc.list_nodes_select to cloud
[TRACE   ] Added lxc.pformat to cloud
[TRACE   ] Added lxc.show_instance to cloud
[TRACE   ] Added ec2.SaltCloudExecutionFailure to cloud
[TRACE   ] Added ec2.SaltCloudExecutionTimeout to cloud
[TRACE   ] Added ec2.SaltCloudSystemExit to cloud
[TRACE   ] Added ec2.attach_volume to cloud
[TRACE   ] Added ec2.avail_images to cloud
[TRACE   ] Added ec2.avail_locations to cloud
[TRACE   ] Added ec2.avail_sizes to cloud
[TRACE   ] Added ec2.block_device_mappings to cloud
[TRACE   ] Added ec2.copy_snapshot to cloud
[TRACE   ] Added ec2.create to cloud
[TRACE   ] Added ec2.create_attach_volumes to cloud
[TRACE   ] Added ec2.create_keypair to cloud
[TRACE   ] Added ec2.create_snapshot to cloud
[TRACE   ] Added ec2.create_volume to cloud
[TRACE   ] Added ec2.del_tags to cloud
[TRACE   ] Added ec2.delete_keypair to cloud
[TRACE   ] Added ec2.delete_snapshot to cloud
[TRACE   ] Added ec2.delete_volume to cloud
[TRACE   ] Added ec2.delvol_on_destroy to cloud
[TRACE   ] Added ec2.describe_snapshots to cloud
[TRACE   ] Added ec2.describe_volumes to cloud
[TRACE   ] Added ec2.destroy to cloud
[TRACE   ] Added ec2.detach_volume to cloud
[TRACE   ] Added ec2.disable_term_protect to cloud
[TRACE   ] Added ec2.enable_term_protect to cloud
[TRACE   ] Added ec2.get_availability_zone to cloud
[TRACE   ] Added ec2.get_configured_provider to cloud
[TRACE   ] Added ec2.get_console_output to cloud
[TRACE   ] Added ec2.get_location to cloud
[TRACE   ] Added ec2.get_placementgroup to cloud
[TRACE   ] Added ec2.get_spot_config to cloud
[TRACE   ] Added ec2.get_ssh_gateway_config to cloud
[TRACE   ] Added ec2.get_subnetid to cloud
[TRACE   ] Added ec2.get_tags to cloud
[TRACE   ] Added ec2.get_tenancy to cloud
[TRACE   ] Added ec2.iam_profile to cloud
[TRACE   ] Added ec2.keepvol_on_destroy to cloud
[TRACE   ] Added ec2.keyname to cloud
[TRACE   ] Added ec2.list_availability_zones to cloud
[TRACE   ] Added ec2.list_nodes to cloud
[TRACE   ] Added ec2.list_nodes_full to cloud
[TRACE   ] Added ec2.list_nodes_min to cloud
[TRACE   ] Added ec2.list_nodes_select to cloud
[TRACE   ] Added ec2.optimize_providers to cloud
[TRACE   ] Added ec2.query to cloud
[TRACE   ] Added ec2.query_instance to cloud
[TRACE   ] Added ec2.queue_instances to cloud
[TRACE   ] Added ec2.reboot to cloud
[TRACE   ] Added ec2.rename to cloud
[TRACE   ] Added ec2.request_instance to cloud
[TRACE   ] Added ec2.script to cloud
[TRACE   ] Added ec2.securitygroup to cloud
[TRACE   ] Added ec2.securitygroupid to cloud
[TRACE   ] Added ec2.set_tags to cloud
[TRACE   ] Added ec2.show_delvol_on_destroy to cloud
[TRACE   ] Added ec2.show_image to cloud
[TRACE   ] Added ec2.show_instance to cloud
[TRACE   ] Added ec2.show_keypair to cloud
[TRACE   ] Added ec2.show_term_protect to cloud
[TRACE   ] Added ec2.show_volume to cloud
[TRACE   ] Added ec2.ssh_interface to cloud
[TRACE   ] Added ec2.start to cloud
[TRACE   ] Added ec2.stop to cloud
[TRACE   ] Added ec2.wait_for_instance to cloud
[DEBUG   ] 'parallels.avail_sizes' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] 'parallels.avail_locations' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] 'proxmox.avail_sizes' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] 'saltify.destroy' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] 'saltify.avail_sizes' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] 'saltify.avail_images' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] 'saltify.avail_locations' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] 'rackspace.reboot' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] 'openstack.list_locations' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] 'rackspace.list_locations' has been marked as not supported. Removing from the list of supported cloud functions
[DEBUG   ] Using EC2 endpoint: ec2.eu-west-1.amazonaws.com
[DEBUG   ] EC2 Request: https://ec2.eu-west-1.amazonaws.com/
[TRACE   ] EC2 Request Parameters: {'SignatureVersion': '2', 'AWSAccessKeyId': '<REDACTED>', 'Timestamp': '2015-04-09T09:13:56Z', 'SignatureMethod': 'HmacSHA256', 'Version': '2013-10-01', 'Signature': 'gku/6bR+kyw1KmfA3UW7RoHNLspCCTlK2cTR8d+2ejk=', 'Action': 'DescribeInstances'}
[DEBUG   ] EC2 Response Status Code: 200
[TRACE   ] EC2 Response Text: <?xml version="1.0" encoding="UTF-8"?>
<DescribeInstancesResponse xmlns="http://ec2.amazonaws.com/doc/2013-10-01/">
    <requestId>f456fb74-c0ad-4c01-85d8-d0920c71ff08</requestId>
    <reservationSet/>
</DescribeInstancesResponse>
[DEBUG   ] Generating minion keys for 'test.example.com'
[DEBUG   ] MasterEvent PUB socket URI: ipc:///var/run/salt/master/master_event_pub.ipc
[DEBUG   ] MasterEvent PULL socket URI: ipc:///var/run/salt/master/master_event_pull.ipc
[DEBUG   ] Sending event - data = {'profile': 'freebsd_ec2', 'event': 'starting create', '_stamp': '2015-04-09T09:13:57.525242', 'name': 'test.example.com', 'provider': 'ec2_eu_west_1:ec2'}
[INFO    ] Creating Cloud VM test.example.com in eu-west-1
[DEBUG   ] Using EC2 endpoint: ec2.eu-west-1.amazonaws.com
[DEBUG   ] EC2 Request: https://ec2.eu-west-1.amazonaws.com/
[TRACE   ] EC2 Request Parameters: {'SignatureVersion': '2', 'AWSAccessKeyId': '<REDACTED>', 'Timestamp': '2015-04-09T09:14:02Z', 'Filter.0.Name': 'region-name', 'SignatureMethod': 'HmacSHA256', 'Version': '2013-10-01', 'Signature': 'sw11kVFQ6N2SRMYlx++BPuRzW28E7mE3MW19AULHo9w=', 'Action': 'DescribeAvailabilityZones', 'Filter.0.Value.0': 'eu-west-1'}
[DEBUG   ] EC2 Response Status Code: 200
[TRACE   ] EC2 Response Text: <?xml version="1.0" encoding="UTF-8"?>
<DescribeAvailabilityZonesResponse xmlns="http://ec2.amazonaws.com/doc/2013-10-01/">
    <requestId>344377fb-316a-4484-9be0-60c931cded16</requestId>
    <availabilityZoneInfo>
        <item>
            <zoneName>eu-west-1a</zoneName>
            <zoneState>available</zoneState>
            <regionName>eu-west-1</regionName>
            <messageSet/>
        </item>
        <item>
            <zoneName>eu-west-1b</zoneName>
            <zoneState>available</zoneState>
            <regionName>eu-west-1</regionName>
            <messageSet/>
        </item>
        <item>
            <zoneName>eu-west-1c</zoneName>
            <zoneState>available</zoneState>
            <regionName>eu-west-1</regionName>
            <messageSet/>
        </item>
    </availabilityZoneInfo>
</DescribeAvailabilityZonesResponse>
[DEBUG   ] MasterEvent PUB socket URI: ipc:///var/run/salt/master/master_event_pub.ipc
[DEBUG   ] MasterEvent PULL socket URI: ipc:///var/run/salt/master/master_event_pull.ipc
[DEBUG   ] Sending event - data = {'event': 'requesting instance', '_stamp': '2015-04-09T09:14:02.752728', 'location': 'eu-west-1', 'kwargs': {'SecurityGroup.1': 'default', 'ImageId': 'ami-3013a747', 'KeyName': 'Araxis EC2 User', 'Placement.AvailabilityZone': 'eu-west-1a', 'MaxCount': 1, 'Action': 'RunInstances', 'MinCount': 1, 'InstanceType': 't2.micro'}}
[DEBUG   ] Using EC2 endpoint: ec2.eu-west-1.amazonaws.com
[DEBUG   ] EC2 Request: https://ec2.eu-west-1.amazonaws.com/
[TRACE   ] EC2 Request Parameters: {'SignatureVersion': '2', 'AWSAccessKeyId': '<REDACTED>', 'Version': '2013-10-01', 'Timestamp': '2015-04-09T09:14:07Z', 'SecurityGroup.1': 'default', 'Signature': 'UBq2w4GneHhZYL2RgaRlaXJJ2Yq/QRoI1oCuLMROj+I=', 'ImageId': 'ami-3013a747', 'SignatureMethod': 'HmacSHA256', 'KeyName': 'Araxis EC2 User', 'Placement.AvailabilityZone': 'eu-west-1a', 'MaxCount': 1, 'Action': 'RunInstances', 'MinCount': 1, 'InstanceType': 't2.micro'}
[DEBUG   ] EC2 Response Status Code: 200
[TRACE   ] EC2 Response Text: <?xml version="1.0" encoding="UTF-8"?>
<RunInstancesResponse xmlns="http://ec2.amazonaws.com/doc/2013-10-01/">
    <requestId>2c8f004f-b26b-40d9-bf2b-cb1726d955fd</requestId>
    <reservationId>r-a8fa5b4f</reservationId>
    <ownerId>986861764419</ownerId>
    <groupSet/>
    <instancesSet>
        <item>
            <instanceId>i-4bc196ac</instanceId>
            <imageId>ami-3013a747</imageId>
            <instanceState>
                <code>0</code>
                <name>pending</name>
            </instanceState>
            <privateDnsName>ip-172-31-38-222.eu-west-1.compute.internal</privateDnsName>
            <dnsName/>
            <reason/>
            <keyName>Araxis EC2 User</keyName>
            <amiLaunchIndex>0</amiLaunchIndex>
            <productCodes/>
            <instanceType>t2.micro</instanceType>
            <launchTime>2015-04-09T09:14:08.000Z</launchTime>
            <placement>
                <availabilityZone>eu-west-1a</availabilityZone>
                <groupName/>
                <tenancy>default</tenancy>
            </placement>
            <monitoring>
                <state>disabled</state>
            </monitoring>
            <subnetId>subnet-18a05172</subnetId>
            <vpcId>vpc-1aa05170</vpcId>
            <privateIpAddress>172.31.38.222</privateIpAddress>
            <sourceDestCheck>true</sourceDestCheck>
            <groupSet>
                <item>
                    <groupId>sg-a723d5c8</groupId>
                    <groupName>default</groupName>
                </item>
            </groupSet>
            <stateReason>
                <code>pending</code>
                <message>pending</message>
            </stateReason>
            <architecture>x86_64</architecture>
            <rootDeviceType>ebs</rootDeviceType>
            <rootDeviceName>/dev/sda1</rootDeviceName>
            <blockDeviceMapping/>
            <virtualizationType>hvm</virtualizationType>
            <clientToken/>
            <hypervisor>xen</hypervisor>
            <networkInterfaceSet>
                <item>
                    <networkInterfaceId>eni-eef66798</networkInterfaceId>
                    <subnetId>subnet-18a05172</subnetId>
                    <vpcId>vpc-1aa05170</vpcId>
                    <description/>
                    <ownerId>986861764419</ownerId>
                    <status>in-use</status>
                    <macAddress>06:cb:29:77:c5:24</macAddress>
                    <privateIpAddress>172.31.38.222</privateIpAddress>
                    <privateDnsName>ip-172-31-38-222.eu-west-1.compute.internal</privateDnsName>
                    <sourceDestCheck>true</sourceDestCheck>
                    <groupSet>
                        <item>
                            <groupId>sg-a723d5c8</groupId>
                            <groupName>default</groupName>
                        </item>
                    </groupSet>
                    <attachment>
                        <attachmentId>eni-attach-b3c01df3</attachmentId>
                        <deviceIndex>0</deviceIndex>
                        <status>attaching</status>
                        <attachTime>2015-04-09T09:14:08.000Z</attachTime>
                        <deleteOnTermination>true</deleteOnTermination>
                    </attachment>
                    <privateIpAddressesSet>
                        <item>
                            <privateIpAddress>172.31.38.222</privateIpAddress>
                            <privateDnsName>ip-172-31-38-222.eu-west-1.compute.internal</privateDnsName>
                            <primary>true</primary>
                        </item>
                    </privateIpAddressesSet>
                </item>
            </networkInterfaceSet>
            <ebsOptimized>false</ebsOptimized>
        </item>
    </instancesSet>
</RunInstancesResponse>
[DEBUG   ] MasterEvent PUB socket URI: ipc:///var/run/salt/master/master_event_pub.ipc
[DEBUG   ] MasterEvent PULL socket URI: ipc:///var/run/salt/master/master_event_pull.ipc
[DEBUG   ] Sending event - data = {'instance_id': 'i-4bc196ac', '_stamp': '2015-04-09T09:14:08.580724', 'event': 'querying instance'}
[DEBUG   ] The new VM instance_id is i-4bc196ac
[DEBUG   ] Using EC2 endpoint: ec2.eu-west-1.amazonaws.com
[DEBUG   ] EC2 Request: https://ec2.eu-west-1.amazonaws.com/
[TRACE   ] EC2 Request Parameters: {'SignatureVersion': '2', 'AWSAccessKeyId': '<REDACTED>', 'InstanceId.1': 'i-4bc196ac', 'Timestamp': '2015-04-09T09:14:13Z', 'SignatureMethod': 'HmacSHA256', 'Version': '2013-10-01', 'Signature': 'rRAFLEZ95xRgUPUQwzGfdjt4ghazZYBizMaXWiu5zko=', 'Action': 'DescribeInstances'}
[DEBUG   ] EC2 Response Status Code: 200
[TRACE   ] EC2 Response Text: <?xml version="1.0" encoding="UTF-8"?>
<DescribeInstancesResponse xmlns="http://ec2.amazonaws.com/doc/2013-10-01/">
    <requestId>4902fcd8-ae03-4516-8bf1-4771f1e42490</requestId>
    <reservationSet>
        <item>
            <reservationId>r-a8fa5b4f</reservationId>
            <ownerId>986861764419</ownerId>
            <groupSet/>
            <instancesSet>
                <item>
                    <instanceId>i-4bc196ac</instanceId>
                    <imageId>ami-3013a747</imageId>
                    <instanceState>
                        <code>0</code>
                        <name>pending</name>
                    </instanceState>
                    <privateDnsName>ip-172-31-38-222.eu-west-1.compute.internal</privateDnsName>
                    <dnsName>ec2-52-17-178-133.eu-west-1.compute.amazonaws.com</dnsName>
                    <reason/>
                    <keyName>Araxis EC2 User</keyName>
                    <amiLaunchIndex>0</amiLaunchIndex>
                    <productCodes/>
                    <instanceType>t2.micro</instanceType>
                    <launchTime>2015-04-09T09:14:08.000Z</launchTime>
                    <placement>
                        <availabilityZone>eu-west-1a</availabilityZone>
                        <groupName/>
                        <tenancy>default</tenancy>
                    </placement>
                    <monitoring>
                        <state>disabled</state>
                    </monitoring>
                    <subnetId>subnet-18a05172</subnetId>
                    <vpcId>vpc-1aa05170</vpcId>
                    <privateIpAddress>172.31.38.222</privateIpAddress>
                    <ipAddress>52.17.178.133</ipAddress>
                    <sourceDestCheck>true</sourceDestCheck>
                    <groupSet>
                        <item>
                            <groupId>sg-a723d5c8</groupId>
                            <groupName>default</groupName>
                        </item>
                    </groupSet>
                    <architecture>x86_64</architecture>
                    <rootDeviceType>ebs</rootDeviceType>
                    <rootDeviceName>/dev/sda1</rootDeviceName>
                    <blockDeviceMapping>
                        <item>
                            <deviceName>/dev/sda1</deviceName>
                            <ebs>
                                <volumeId>vol-5f87464c</volumeId>
                                <status>attaching</status>
                                <attachTime>2015-04-09T09:14:11.000Z</attachTime>
                                <deleteOnTermination>false</deleteOnTermination>
                            </ebs>
                        </item>
                    </blockDeviceMapping>
                    <virtualizationType>hvm</virtualizationType>
                    <clientToken/>
                    <hypervisor>xen</hypervisor>
                    <networkInterfaceSet>
                        <item>
                            <networkInterfaceId>eni-eef66798</networkInterfaceId>
                            <subnetId>subnet-18a05172</subnetId>
                            <vpcId>vpc-1aa05170</vpcId>
                            <description/>
                            <ownerId>986861764419</ownerId>
                            <status>in-use</status>
                            <macAddress>06:cb:29:77:c5:24</macAddress>
                            <privateIpAddress>172.31.38.222</privateIpAddress>
                            <privateDnsName>ip-172-31-38-222.eu-west-1.compute.internal</privateDnsName>
                            <sourceDestCheck>true</sourceDestCheck>
                            <groupSet>
                                <item>
                                    <groupId>sg-a723d5c8</groupId>
                                    <groupName>default</groupName>
                                </item>
                            </groupSet>
                            <attachment>
                                <attachmentId>eni-attach-b3c01df3</attachmentId>
                                <deviceIndex>0</deviceIndex>
                                <status>attaching</status>
                                <attachTime>2015-04-09T09:14:08.000Z</attachTime>
                                <deleteOnTermination>true</deleteOnTermination>
                            </attachment>
                            <association>
                                <publicIp>52.17.178.133</publicIp>
                                <publicDnsName>ec2-52-17-178-133.eu-west-1.compute.amazonaws.com</publicDnsName>
                                <ipOwnerId>amazon</ipOwnerId>
                            </association>
                            <privateIpAddressesSet>
                                <item>
                                    <privateIpAddress>172.31.38.222</privateIpAddress>
                                    <privateDnsName>ip-172-31-38-222.eu-west-1.compute.internal</privateDnsName>
                                    <primary>true</primary>
                                    <association>
                                    <publicIp>52.17.178.133</publicIp>
                                    <publicDnsName>ec2-52-17-178-133.eu-west-1.compute.amazonaws.com</publicDnsName>
                                    <ipOwnerId>amazon</ipOwnerId>
                                    </association>
                                </item>
                            </privateIpAddressesSet>
                        </item>
                    </networkInterfaceSet>
                    <ebsOptimized>false</ebsOptimized>
                </item>
            </instancesSet>
        </item>
    </reservationSet>
</DescribeInstancesResponse>
[DEBUG   ] The query returned: [{'ownerId': '986861764419', 'groupSet': None, 'reservationId': 'r-a8fa5b4f', 'instancesSet': {'item': {'productCodes': None, 'vpcId': 'vpc-1aa05170', 'instanceId': 'i-4bc196ac', 'imageId': 'ami-3013a747', 'keyName': 'Araxis EC2 User', 'clientToken': None, 'subnetId': 'subnet-18a05172', 'amiLaunchIndex': '0', 'instanceType': 't2.micro', 'groupSet': {'item': {'groupName': 'default', 'groupId': 'sg-a723d5c8'}}, 'monitoring': {'state': 'disabled'}, 'dnsName': 'ec2-52-17-178-133.eu-west-1.compute.amazonaws.com', 'privateIpAddress': '172.31.38.222', 'virtualizationType': 'hvm', 'privateDnsName': 'ip-172-31-38-222.eu-west-1.compute.internal', 'reason': None, 'sourceDestCheck': 'true', 'blockDeviceMapping': {'item': {'deviceName': '/dev/sda1', 'ebs': {'status': 'attaching', 'deleteOnTermination': 'false', 'volumeId': 'vol-5f87464c', 'attachTime': '2015-04-09T09:14:11.000Z'}}}, 'placement': {'groupName': None, 'tenancy': 'default', 'availabilityZone': 'eu-west-1a'}, 'instanceState': {'code': '0', 'name': 'pending'}, 'networkInterfaceSet': {'item': {'status': 'in-use', 'macAddress': '06:cb:29:77:c5:24', 'sourceDestCheck': 'true', 'vpcId': 'vpc-1aa05170', 'description': None, 'networkInterfaceId': 'eni-eef66798', 'privateDnsName': 'ip-172-31-38-222.eu-west-1.compute.internal', 'groupSet': {'item': {'groupName': 'default', 'groupId': 'sg-a723d5c8'}}, 'attachment': {'status': 'attaching', 'deviceIndex': '0', 'deleteOnTermination': 'true', 'attachmentId': 'eni-attach-b3c01df3', 'attachTime': '2015-04-09T09:14:08.000Z'}, 'subnetId': 'subnet-18a05172', 'ownerId': '986861764419', 'privateIpAddressesSet': {'item': {'privateDnsName': 'ip-172-31-38-222.eu-west-1.compute.internal', 'association': {'publicIp': '52.17.178.133', 'publicDnsName': 'ec2-52-17-178-133.eu-west-1.compute.amazonaws.com', 'ipOwnerId': 'amazon'}, 'primary': 'true', 'privateIpAddress': '172.31.38.222'}}, 'association': {'publicIp': '52.17.178.133', 'publicDnsName': 'ec2-52-17-178-133.eu-west-1.compute.amazonaws.com', 'ipOwnerId': 'amazon'}, 'privateIpAddress': '172.31.38.222'}}, 'ebsOptimized': 'false', 'launchTime': '2015-04-09T09:14:08.000Z', 'architecture': 'x86_64', 'hypervisor': 'xen', 'rootDeviceType': 'ebs', 'ipAddress': '52.17.178.133', 'rootDeviceName': '/dev/sda1'}}}]
[DEBUG   ] Waiting for VM IP. Giving up in 00:10:00
[DEBUG   ] Using EC2 endpoint: ec2.eu-west-1.amazonaws.com
[DEBUG   ] EC2 Request: https://ec2.eu-west-1.amazonaws.com/
[TRACE   ] EC2 Request Parameters: {'SignatureVersion': '2', 'AWSAccessKeyId': '<REDACTED>', 'InstanceId.1': 'i-4bc196ac', 'Timestamp': '2015-04-09T09:14:13Z', 'SignatureMethod': 'HmacSHA256', 'Version': '2013-10-01', 'Signature': 'rRAFLEZ95xRgUPUQwzGfdjt4ghazZYBizMaXWiu5zko=', 'Action': 'DescribeInstances'}
[DEBUG   ] EC2 Response Status Code: 200
[TRACE   ] EC2 Response Text: <?xml version="1.0" encoding="UTF-8"?>
<DescribeInstancesResponse xmlns="http://ec2.amazonaws.com/doc/2013-10-01/">
    <requestId>26a136b6-7e1e-45be-bd7e-e529323d6545</requestId>
    <reservationSet>
        <item>
            <reservationId>r-a8fa5b4f</reservationId>
            <ownerId>986861764419</ownerId>
            <groupSet/>
            <instancesSet>
                <item>
                    <instanceId>i-4bc196ac</instanceId>
                    <imageId>ami-3013a747</imageId>
                    <instanceState>
                        <code>0</code>
                        <name>pending</name>
                    </instanceState>
                    <privateDnsName>ip-172-31-38-222.eu-west-1.compute.internal</privateDnsName>
                    <dnsName>ec2-52-17-178-133.eu-west-1.compute.amazonaws.com</dnsName>
                    <reason/>
                    <keyName>Araxis EC2 User</keyName>
                    <amiLaunchIndex>0</amiLaunchIndex>
                    <productCodes/>
                    <instanceType>t2.micro</instanceType>
                    <launchTime>2015-04-09T09:14:08.000Z</launchTime>
                    <placement>
                        <availabilityZone>eu-west-1a</availabilityZone>
                        <groupName/>
                        <tenancy>default</tenancy>
                    </placement>
                    <monitoring>
                        <state>disabled</state>
                    </monitoring>
                    <subnetId>subnet-18a05172</subnetId>
                    <vpcId>vpc-1aa05170</vpcId>
                    <privateIpAddress>172.31.38.222</privateIpAddress>
                    <ipAddress>52.17.178.133</ipAddress>
                    <sourceDestCheck>true</sourceDestCheck>
                    <groupSet>
                        <item>
                            <groupId>sg-a723d5c8</groupId>
                            <groupName>default</groupName>
                        </item>
                    </groupSet>
                    <architecture>x86_64</architecture>
                    <rootDeviceType>ebs</rootDeviceType>
                    <rootDeviceName>/dev/sda1</rootDeviceName>
                    <blockDeviceMapping>
                        <item>
                            <deviceName>/dev/sda1</deviceName>
                            <ebs>
                                <volumeId>vol-5f87464c</volumeId>
                                <status>attaching</status>
                                <attachTime>2015-04-09T09:14:11.000Z</attachTime>
                                <deleteOnTermination>false</deleteOnTermination>
                            </ebs>
                        </item>
                    </blockDeviceMapping>
                    <virtualizationType>hvm</virtualizationType>
                    <clientToken/>
                    <hypervisor>xen</hypervisor>
                    <networkInterfaceSet>
                        <item>
                            <networkInterfaceId>eni-eef66798</networkInterfaceId>
                            <subnetId>subnet-18a05172</subnetId>
                            <vpcId>vpc-1aa05170</vpcId>
                            <description/>
                            <ownerId>986861764419</ownerId>
                            <status>in-use</status>
                            <macAddress>06:cb:29:77:c5:24</macAddress>
                            <privateIpAddress>172.31.38.222</privateIpAddress>
                            <privateDnsName>ip-172-31-38-222.eu-west-1.compute.internal</privateDnsName>
                            <sourceDestCheck>true</sourceDestCheck>
                            <groupSet>
                                <item>
                                    <groupId>sg-a723d5c8</groupId>
                                    <groupName>default</groupName>
                                </item>
                            </groupSet>
                            <attachment>
                                <attachmentId>eni-attach-b3c01df3</attachmentId>
                                <deviceIndex>0</deviceIndex>
                                <status>attaching</status>
                                <attachTime>2015-04-09T09:14:08.000Z</attachTime>
                                <deleteOnTermination>true</deleteOnTermination>
                            </attachment>
                            <association>
                                <publicIp>52.17.178.133</publicIp>
                                <publicDnsName>ec2-52-17-178-133.eu-west-1.compute.amazonaws.com</publicDnsName>
                                <ipOwnerId>amazon</ipOwnerId>
                            </association>
                            <privateIpAddressesSet>
                                <item>
                                    <privateIpAddress>172.31.38.222</privateIpAddress>
                                    <privateDnsName>ip-172-31-38-222.eu-west-1.compute.internal</privateDnsName>
                                    <primary>true</primary>
                                    <association>
                                    <publicIp>52.17.178.133</publicIp>
                                    <publicDnsName>ec2-52-17-178-133.eu-west-1.compute.amazonaws.com</publicDnsName>
                                    <ipOwnerId>amazon</ipOwnerId>
                                    </association>
                                </item>
                            </privateIpAddressesSet>
                        </item>
                    </networkInterfaceSet>
                    <ebsOptimized>false</ebsOptimized>
                </item>
            </instancesSet>
        </item>
    </reservationSet>
</DescribeInstancesResponse>
[DEBUG   ] Returned query data: [{'ownerId': '986861764419', 'groupSet': None, 'reservationId': 'r-a8fa5b4f', 'instancesSet': {'item': {'productCodes': None, 'vpcId': 'vpc-1aa05170', 'instanceId': 'i-4bc196ac', 'imageId': 'ami-3013a747', 'keyName': 'Araxis EC2 User', 'clientToken': None, 'subnetId': 'subnet-18a05172', 'amiLaunchIndex': '0', 'instanceType': 't2.micro', 'groupSet': {'item': {'groupName': 'default', 'groupId': 'sg-a723d5c8'}}, 'monitoring': {'state': 'disabled'}, 'dnsName': 'ec2-52-17-178-133.eu-west-1.compute.amazonaws.com', 'privateIpAddress': '172.31.38.222', 'virtualizationType': 'hvm', 'privateDnsName': 'ip-172-31-38-222.eu-west-1.compute.internal', 'reason': None, 'sourceDestCheck': 'true', 'blockDeviceMapping': {'item': {'deviceName': '/dev/sda1', 'ebs': {'status': 'attaching', 'deleteOnTermination': 'false', 'volumeId': 'vol-5f87464c', 'attachTime': '2015-04-09T09:14:11.000Z'}}}, 'placement': {'groupName': None, 'tenancy': 'default', 'availabilityZone': 'eu-west-1a'}, 'instanceState': {'code': '0', 'name': 'pending'}, 'networkInterfaceSet': {'item': {'status': 'in-use', 'macAddress': '06:cb:29:77:c5:24', 'sourceDestCheck': 'true', 'vpcId': 'vpc-1aa05170', 'description': None, 'networkInterfaceId': 'eni-eef66798', 'privateDnsName': 'ip-172-31-38-222.eu-west-1.compute.internal', 'groupSet': {'item': {'groupName': 'default', 'groupId': 'sg-a723d5c8'}}, 'attachment': {'status': 'attaching', 'deviceIndex': '0', 'deleteOnTermination': 'true', 'attachmentId': 'eni-attach-b3c01df3', 'attachTime': '2015-04-09T09:14:08.000Z'}, 'subnetId': 'subnet-18a05172', 'ownerId': '986861764419', 'privateIpAddressesSet': {'item': {'privateDnsName': 'ip-172-31-38-222.eu-west-1.compute.internal', 'association': {'publicIp': '52.17.178.133', 'publicDnsName': 'ec2-52-17-178-133.eu-west-1.compute.amazonaws.com', 'ipOwnerId': 'amazon'}, 'primary': 'true', 'privateIpAddress': '172.31.38.222'}}, 'association': {'publicIp': '52.17.178.133', 'publicDnsName': 'ec2-52-17-178-133.eu-west-1.compute.amazonaws.com', 'ipOwnerId': 'amazon'}, 'privateIpAddress': '172.31.38.222'}}, 'ebsOptimized': 'false', 'launchTime': '2015-04-09T09:14:08.000Z', 'architecture': 'x86_64', 'hypervisor': 'xen', 'rootDeviceType': 'ebs', 'ipAddress': '52.17.178.133', 'rootDeviceName': '/dev/sda1'}}}]
[DEBUG   ] MasterEvent PUB socket URI: ipc:///var/run/salt/master/master_event_pub.ipc
[DEBUG   ] MasterEvent PULL socket URI: ipc:///var/run/salt/master/master_event_pull.ipc
[DEBUG   ] Sending event - data = {'_stamp': '2015-04-09T09:14:14.052962', 'event': 'setting tags', 'tags': {'Name': 'test.example.com'}}
[DEBUG   ] Tags to set for test.example.com: {'Name': 'test.example.com'}
[DEBUG   ] Using EC2 endpoint: ec2.eu-west-1.amazonaws.com
[DEBUG   ] EC2 Request: https://ec2.eu-west-1.amazonaws.com/
[TRACE   ] EC2 Request Parameters: {'SignatureVersion': '2', 'AWSAccessKeyId': '<REDACTED>', 'ResourceId.1': 'i-4bc196ac', 'Timestamp': '2015-04-09T09:14:19Z', 'Tag.0.Key': 'Name', 'Tag.0.Value': 'test.example.com', 'SignatureMethod': 'HmacSHA256', 'Version': '2013-10-01', 'Signature': 'H0cvQ7OCNSBIXKaQG4AQxT1654BWuNsWRFU8P+6n03g=', 'Action': 'CreateTags'}
[DEBUG   ] EC2 Response Status Code: 200
[TRACE   ] EC2 Response Text: <?xml version="1.0" encoding="UTF-8"?>
<CreateTagsResponse xmlns="http://ec2.amazonaws.com/doc/2013-10-01/">
    <requestId>d604a0f9-f5c2-4f15-b807-4a4ee9a8007e</requestId>
    <return>true</return>
</CreateTagsResponse>
[DEBUG   ] Using EC2 endpoint: ec2.eu-west-1.amazonaws.com
[DEBUG   ] EC2 Request: https://ec2.eu-west-1.amazonaws.com/
[TRACE   ] EC2 Request Parameters: {'SignatureVersion': '2', 'AWSAccessKeyId': '<REDACTED>', 'Filter.1.Name': 'resource-id', 'Timestamp': '2015-04-09T09:14:19Z', 'SignatureMethod': 'HmacSHA256', 'Version': '2013-10-01', 'Signature': 'Aodr8H9E56vYNd/ppvkGvBizwSx8WDJ4/s66UzVCD7g=', 'Action': 'DescribeTags', 'Filter.1.Value': 'i-4bc196ac'}
[DEBUG   ] EC2 Response Status Code: 200
[TRACE   ] EC2 Response Text: <?xml version="1.0" encoding="UTF-8"?>
<DescribeTagsResponse xmlns="http://ec2.amazonaws.com/doc/2013-10-01/">
    <requestId>3d594b06-9a1b-4f83-8da4-e154d9e6bdc6</requestId>
    <tagSet>
        <item>
            <resourceId>i-4bc196ac</resourceId>
            <resourceType>instance</resourceType>
            <key>Name</key>
            <value>test.example.com</value>
        </item>
    </tagSet>
</DescribeTagsResponse>
[DEBUG   ] Setting the tags returned: [{'resourceType': 'instance', 'resourceId': 'i-4bc196ac', 'value': 'test.example.com', 'key': 'Name'}]
[INFO    ] Created node test.example.com
[INFO    ] Salt node data. Public_ip: 52.17.178.133
[DEBUG   ] MasterEvent PUB socket URI: ipc:///var/run/salt/master/master_event_pub.ipc
[DEBUG   ] MasterEvent PULL socket URI: ipc:///var/run/salt/master/master_event_pull.ipc
[DEBUG   ] Sending event - data = {'_stamp': '2015-04-09T09:14:19.716515', 'ip_address': '52.17.178.133', 'event': 'waiting for ssh'}
[DEBUG   ] Attempting connection to host 52.17.178.133 on port 22
[DEBUG   ] Caught exception in wait_for_port: timed out
[DEBUG   ] Retrying connection to host 52.17.178.133 on port 22 (try 1)
[DEBUG   ] Caught exception in wait_for_port: [Errno 61] Connection refused
[DEBUG   ] Retrying connection to host 52.17.178.133 on port 22 (try 2)
[DEBUG   ] Caught exception in wait_for_port: [Errno 61] Connection refused
...
[DEBUG   ] Retrying connection to host 52.17.178.133 on port 22 (try 202)
[DEBUG   ] Using /etc/salt/keys/araxis-ec2-user as the key_filename
[DEBUG   ] Attempting to authenticate as ec2-user (try 1 of 15)
[DEBUG   ] SSH command: 'ssh -oStrictHostKeyChecking=no -oUserKnownHostsFile=/dev/null -oControlPath=none -oPasswordAuthentication=no -oChallengeResponseAuthentication=no -oPubkeyAuthentication=yes -oKbdInteractiveAuthentication=no -i /etc/salt/keys/araxis-ec2-user -p 22 ec2-user@52.17.178.133 date'
[DEBUG   ] Child Forked! PID: 54084  STDOUT_FD: 4  STDERR_FD: 8
[DEBUG   ] Terminal Command: /bin/sh -c ssh -oStrictHostKeyChecking=no -oUserKnownHostsFile=/dev/null -oControlPath=none -oPasswordAuthentication=no -oChallengeResponseAuthentication=no -oPubkeyAuthentication=yes -oKbdInteractiveAuthentication=no -i /etc/salt/keys/araxis-ec2-user -p 22 ec2-user@52.17.178.133 date
[WARNING ] Failed to spawn the VT: [Errno 6] Device not configured: '/dev/tty'
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 203, in __init__
    self._spawn()
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 394, in _spawn
    self.pid, self.child_fd, self.child_fde = self.__fork_ptys()
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 525, in __fork_ptys
    tty_fd = os.open('/dev/tty', os.O_WRONLY)
OSError: [Errno 6] Device not configured: '/dev/tty'
[ERROR   ] A wrong password has been issued while establishing ssh session
[DEBUG   ] Using /etc/salt/keys/araxis-ec2-user as the key_filename
[DEBUG   ] Attempting to authenticate as ec2-user (try 2 of 15)
[DEBUG   ] SSH command: 'ssh -oStrictHostKeyChecking=no -oUserKnownHostsFile=/dev/null -oControlPath=none -oPasswordAuthentication=no -oChallengeResponseAuthentication=no -oPubkeyAuthentication=yes -oKbdInteractiveAuthentication=no -i /etc/salt/keys/araxis-ec2-user -p 22 ec2-user@52.17.178.133 date'
[DEBUG   ] Child Forked! PID: 54103  STDOUT_FD: 4  STDERR_FD: 11
[DEBUG   ] Terminal Command: /bin/sh -c ssh -oStrictHostKeyChecking=no -oUserKnownHostsFile=/dev/null -oControlPath=none -oPasswordAuthentication=no -oChallengeResponseAuthentication=no -oPubkeyAuthentication=yes -oKbdInteractiveAuthentication=no -i /etc/salt/keys/araxis-ec2-user -p 22 ec2-user@52.17.178.133 date
[WARNING ] Failed to spawn the VT: [Errno 6] Device not configured: '/dev/tty'
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 203, in __init__
    self._spawn()
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 394, in _spawn
    self.pid, self.child_fd, self.child_fde = self.__fork_ptys()
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 525, in __fork_ptys
    tty_fd = os.open('/dev/tty', os.O_WRONLY)
OSError: [Errno 6] Device not configured: '/dev/tty'
[ERROR   ] A wrong password has been issued while establishing ssh session
[DEBUG   ] Using /etc/salt/keys/araxis-ec2-user as the key_filename
[DEBUG   ] Attempting to authenticate as ec2-user (try 3 of 15)
[DEBUG   ] SSH command: 'ssh -oStrictHostKeyChecking=no -oUserKnownHostsFile=/dev/null -oControlPath=none -oPasswordAuthentication=no -oChallengeResponseAuthentication=no -oPubkeyAuthentication=yes -oKbdInteractiveAuthentication=no -i /etc/salt/keys/araxis-ec2-user -p 22 ec2-user@52.17.178.133 date'
[DEBUG   ] Child Forked! PID: 54104  STDOUT_FD: 4  STDERR_FD: 13
[DEBUG   ] Terminal Command: /bin/sh -c ssh -oStrictHostKeyChecking=no -oUserKnownHostsFile=/dev/null -oControlPath=none -oPasswordAuthentication=no -oChallengeResponseAuthentication=no -oPubkeyAuthentication=yes -oKbdInteractiveAuthentication=no -i /etc/salt/keys/araxis-ec2-user -p 22 ec2-user@52.17.178.133 date
[WARNING ] Failed to spawn the VT: [Errno 6] Device not configured: '/dev/tty'
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 203, in __init__
    self._spawn()
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 394, in _spawn
    self.pid, self.child_fd, self.child_fde = self.__fork_ptys()
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 525, in __fork_ptys
    tty_fd = os.open('/dev/tty', os.O_WRONLY)
OSError: [Errno 6] Device not configured: '/dev/tty'
[ERROR   ] A wrong password has been issued while establishing ssh session
[DEBUG   ] Using /etc/salt/keys/araxis-ec2-user as the key_filename
[DEBUG   ] Attempting to authenticate as ec2-user (try 4 of 15)
[DEBUG   ] SSH command: 'ssh -oStrictHostKeyChecking=no -oUserKnownHostsFile=/dev/null -oControlPath=none -oPasswordAuthentication=no -oChallengeResponseAuthentication=no -oPubkeyAuthentication=yes -oKbdInteractiveAuthentication=no -i /etc/salt/keys/araxis-ec2-user -p 22 ec2-user@52.17.178.133 date'
[DEBUG   ] Child Forked! PID: 54105  STDOUT_FD: 4  STDERR_FD: 15
[DEBUG   ] Terminal Command: /bin/sh -c ssh -oStrictHostKeyChecking=no -oUserKnownHostsFile=/dev/null -oControlPath=none -oPasswordAuthentication=no -oChallengeResponseAuthentication=no -oPubkeyAuthentication=yes -oKbdInteractiveAuthentication=no -i /etc/salt/keys/araxis-ec2-user -p 22 ec2-user@52.17.178.133 date
[WARNING ] Failed to spawn the VT: [Errno 6] Device not configured: '/dev/tty'
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 203, in __init__
    self._spawn()
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 394, in _spawn
    self.pid, self.child_fd, self.child_fde = self.__fork_ptys()
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 525, in __fork_ptys
    tty_fd = os.open('/dev/tty', os.O_WRONLY)
OSError: [Errno 6] Device not configured: '/dev/tty'
[ERROR   ] A wrong password has been issued while establishing ssh session
[DEBUG   ] Using /etc/salt/keys/araxis-ec2-user as the key_filename
[DEBUG   ] Attempting to authenticate as ec2-user (try 5 of 15)
[DEBUG   ] SSH command: 'ssh -oStrictHostKeyChecking=no -oUserKnownHostsFile=/dev/null -oControlPath=none -oPasswordAuthentication=no -oChallengeResponseAuthentication=no -oPubkeyAuthentication=yes -oKbdInteractiveAuthentication=no -i /etc/salt/keys/araxis-ec2-user -p 22 ec2-user@52.17.178.133 date'
[DEBUG   ] Child Forked! PID: 54106  STDOUT_FD: 4  STDERR_FD: 17
[DEBUG   ] Terminal Command: /bin/sh -c ssh -oStrictHostKeyChecking=no -oUserKnownHostsFile=/dev/null -oControlPath=none -oPasswordAuthentication=no -oChallengeResponseAuthentication=no -oPubkeyAuthentication=yes -oKbdInteractiveAuthentication=no -i /etc/salt/keys/araxis-ec2-user -p 22 ec2-user@52.17.178.133 date
[WARNING ] Failed to spawn the VT: [Errno 6] Device not configured: '/dev/tty'
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 203, in __init__
    self._spawn()
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 394, in _spawn
    self.pid, self.child_fd, self.child_fde = self.__fork_ptys()
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 525, in __fork_ptys
    tty_fd = os.open('/dev/tty', os.O_WRONLY)
OSError: [Errno 6] Device not configured: '/dev/tty'
[ERROR   ] A wrong password has been issued while establishing ssh session
[DEBUG   ] Using /etc/salt/keys/araxis-ec2-user as the key_filename
[DEBUG   ] Attempting to authenticate as ec2-user (try 6 of 15)
[DEBUG   ] SSH command: 'ssh -oStrictHostKeyChecking=no -oUserKnownHostsFile=/dev/null -oControlPath=none -oPasswordAuthentication=no -oChallengeResponseAuthentication=no -oPubkeyAuthentication=yes -oKbdInteractiveAuthentication=no -i /etc/salt/keys/araxis-ec2-user -p 22 ec2-user@52.17.178.133 date'
[DEBUG   ] Child Forked! PID: 54107  STDOUT_FD: 4  STDERR_FD: 19
[DEBUG   ] Terminal Command: /bin/sh -c ssh -oStrictHostKeyChecking=no -oUserKnownHostsFile=/dev/null -oControlPath=none -oPasswordAuthentication=no -oChallengeResponseAuthentication=no -oPubkeyAuthentication=yes -oKbdInteractiveAuthentication=no -i /etc/salt/keys/araxis-ec2-user -p 22 ec2-user@52.17.178.133 date
[WARNING ] Failed to spawn the VT: [Errno 6] Device not configured: '/dev/tty'
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 203, in __init__
    self._spawn()
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 394, in _spawn
    self.pid, self.child_fd, self.child_fde = self.__fork_ptys()
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 525, in __fork_ptys
    tty_fd = os.open('/dev/tty', os.O_WRONLY)
OSError: [Errno 6] Device not configured: '/dev/tty'
[ERROR   ] A wrong password has been issued while establishing ssh session
[DEBUG   ] Using /etc/salt/keys/araxis-ec2-user as the key_filename
[DEBUG   ] Attempting to authenticate as ec2-user (try 7 of 15)
[DEBUG   ] SSH command: 'ssh -oStrictHostKeyChecking=no -oUserKnownHostsFile=/dev/null -oControlPath=none -oPasswordAuthentication=no -oChallengeResponseAuthentication=no -oPubkeyAuthentication=yes -oKbdInteractiveAuthentication=no -i /etc/salt/keys/araxis-ec2-user -p 22 ec2-user@52.17.178.133 date'
[DEBUG   ] Child Forked! PID: 54108  STDOUT_FD: 4  STDERR_FD: 21
[DEBUG   ] Terminal Command: /bin/sh -c ssh -oStrictHostKeyChecking=no -oUserKnownHostsFile=/dev/null -oControlPath=none -oPasswordAuthentication=no -oChallengeResponseAuthentication=no -oPubkeyAuthentication=yes -oKbdInteractiveAuthentication=no -i /etc/salt/keys/araxis-ec2-user -p 22 ec2-user@52.17.178.133 date
[WARNING ] Failed to spawn the VT: [Errno 6] Device not configured: '/dev/tty'
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 203, in __init__
    self._spawn()
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 394, in _spawn
    self.pid, self.child_fd, self.child_fde = self.__fork_ptys()
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 525, in __fork_ptys
    tty_fd = os.open('/dev/tty', os.O_WRONLY)
OSError: [Errno 6] Device not configured: '/dev/tty'
[ERROR   ] A wrong password has been issued while establishing ssh session
[DEBUG   ] Using /etc/salt/keys/araxis-ec2-user as the key_filename
[DEBUG   ] Attempting to authenticate as ec2-user (try 8 of 15)
[DEBUG   ] SSH command: 'ssh -oStrictHostKeyChecking=no -oUserKnownHostsFile=/dev/null -oControlPath=none -oPasswordAuthentication=no -oChallengeResponseAuthentication=no -oPubkeyAuthentication=yes -oKbdInteractiveAuthentication=no -i /etc/salt/keys/araxis-ec2-user -p 22 ec2-user@52.17.178.133 date'
[DEBUG   ] Child Forked! PID: 54109  STDOUT_FD: 4  STDERR_FD: 23
[DEBUG   ] Terminal Command: /bin/sh -c ssh -oStrictHostKeyChecking=no -oUserKnownHostsFile=/dev/null -oControlPath=none -oPasswordAuthentication=no -oChallengeResponseAuthentication=no -oPubkeyAuthentication=yes -oKbdInteractiveAuthentication=no -i /etc/salt/keys/araxis-ec2-user -p 22 ec2-user@52.17.178.133 date
[WARNING ] Failed to spawn the VT: [Errno 6] Device not configured: '/dev/tty'
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 203, in __init__
    self._spawn()
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 394, in _spawn
    self.pid, self.child_fd, self.child_fde = self.__fork_ptys()
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 525, in __fork_ptys
    tty_fd = os.open('/dev/tty', os.O_WRONLY)
OSError: [Errno 6] Device not configured: '/dev/tty'
[ERROR   ] A wrong password has been issued while establishing ssh session
[DEBUG   ] Using /etc/salt/keys/araxis-ec2-user as the key_filename
[DEBUG   ] Attempting to authenticate as ec2-user (try 9 of 15)
[DEBUG   ] SSH command: 'ssh -oStrictHostKeyChecking=no -oUserKnownHostsFile=/dev/null -oControlPath=none -oPasswordAuthentication=no -oChallengeResponseAuthentication=no -oPubkeyAuthentication=yes -oKbdInteractiveAuthentication=no -i /etc/salt/keys/araxis-ec2-user -p 22 ec2-user@52.17.178.133 date'
[DEBUG   ] Child Forked! PID: 54110  STDOUT_FD: 4  STDERR_FD: 25
[DEBUG   ] Terminal Command: /bin/sh -c ssh -oStrictHostKeyChecking=no -oUserKnownHostsFile=/dev/null -oControlPath=none -oPasswordAuthentication=no -oChallengeResponseAuthentication=no -oPubkeyAuthentication=yes -oKbdInteractiveAuthentication=no -i /etc/salt/keys/araxis-ec2-user -p 22 ec2-user@52.17.178.133 date
[WARNING ] Failed to spawn the VT: [Errno 6] Device not configured: '/dev/tty'
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 203, in __init__
    self._spawn()
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 394, in _spawn
    self.pid, self.child_fd, self.child_fde = self.__fork_ptys()
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 525, in __fork_ptys
    tty_fd = os.open('/dev/tty', os.O_WRONLY)
OSError: [Errno 6] Device not configured: '/dev/tty'
[ERROR   ] A wrong password has been issued while establishing ssh session
[DEBUG   ] Using /etc/salt/keys/araxis-ec2-user as the key_filename
[DEBUG   ] Attempting to authenticate as ec2-user (try 10 of 15)
[DEBUG   ] SSH command: 'ssh -oStrictHostKeyChecking=no -oUserKnownHostsFile=/dev/null -oControlPath=none -oPasswordAuthentication=no -oChallengeResponseAuthentication=no -oPubkeyAuthentication=yes -oKbdInteractiveAuthentication=no -i /etc/salt/keys/araxis-ec2-user -p 22 ec2-user@52.17.178.133 date'
[DEBUG   ] Child Forked! PID: 54111  STDOUT_FD: 4  STDERR_FD: 27
[WARNING ] Failed to spawn the VT: [Errno 6] Device not configured: '/dev/tty'
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 203, in __init__
    self._spawn()
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 394, in _spawn
    self.pid, self.child_fd, self.child_fde = self.__fork_ptys()
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 525, in __fork_ptys
    tty_fd = os.open('/dev/tty', os.O_WRONLY)
OSError: [Errno 6] Device not configured: '/dev/tty'
[ERROR   ] A wrong password has been issued while establishing ssh session
[DEBUG   ] Terminal Command: /bin/sh -c ssh -oStrictHostKeyChecking=no -oUserKnownHostsFile=/dev/null -oControlPath=none -oPasswordAuthentication=no -oChallengeResponseAuthentication=no -oPubkeyAuthentication=yes -oKbdInteractiveAuthentication=no -i /etc/salt/keys/araxis-ec2-user -p 22 ec2-user@52.17.178.133 date
[DEBUG   ] Using /etc/salt/keys/araxis-ec2-user as the key_filename
[DEBUG   ] Attempting to authenticate as ec2-user (try 11 of 15)
[DEBUG   ] SSH command: 'ssh -oStrictHostKeyChecking=no -oUserKnownHostsFile=/dev/null -oControlPath=none -oPasswordAuthentication=no -oChallengeResponseAuthentication=no -oPubkeyAuthentication=yes -oKbdInteractiveAuthentication=no -i /etc/salt/keys/araxis-ec2-user -p 22 ec2-user@52.17.178.133 date'
[DEBUG   ] Child Forked! PID: 54112  STDOUT_FD: 4  STDERR_FD: 29
[DEBUG   ] Terminal Command: /bin/sh -c ssh -oStrictHostKeyChecking=no -oUserKnownHostsFile=/dev/null -oControlPath=none -oPasswordAuthentication=no -oChallengeResponseAuthentication=no -oPubkeyAuthentication=yes -oKbdInteractiveAuthentication=no -i /etc/salt/keys/araxis-ec2-user -p 22 ec2-user@52.17.178.133 date
[WARNING ] Failed to spawn the VT: [Errno 6] Device not configured: '/dev/tty'
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 203, in __init__
    self._spawn()
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 394, in _spawn
    self.pid, self.child_fd, self.child_fde = self.__fork_ptys()
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 525, in __fork_ptys
    tty_fd = os.open('/dev/tty', os.O_WRONLY)
OSError: [Errno 6] Device not configured: '/dev/tty'
[ERROR   ] A wrong password has been issued while establishing ssh session
[DEBUG   ] Using /etc/salt/keys/araxis-ec2-user as the key_filename
[DEBUG   ] Attempting to authenticate as ec2-user (try 12 of 15)
[DEBUG   ] SSH command: 'ssh -oStrictHostKeyChecking=no -oUserKnownHostsFile=/dev/null -oControlPath=none -oPasswordAuthentication=no -oChallengeResponseAuthentication=no -oPubkeyAuthentication=yes -oKbdInteractiveAuthentication=no -i /etc/salt/keys/araxis-ec2-user -p 22 ec2-user@52.17.178.133 date'
[DEBUG   ] Child Forked! PID: 54113  STDOUT_FD: 4  STDERR_FD: 31
[DEBUG   ] Terminal Command: /bin/sh -c ssh -oStrictHostKeyChecking=no -oUserKnownHostsFile=/dev/null -oControlPath=none -oPasswordAuthentication=no -oChallengeResponseAuthentication=no -oPubkeyAuthentication=yes -oKbdInteractiveAuthentication=no -i /etc/salt/keys/araxis-ec2-user -p 22 ec2-user@52.17.178.133 date
[WARNING ] Failed to spawn the VT: [Errno 6] Device not configured: '/dev/tty'
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 203, in __init__
    self._spawn()
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 394, in _spawn
    self.pid, self.child_fd, self.child_fde = self.__fork_ptys()
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 525, in __fork_ptys
    tty_fd = os.open('/dev/tty', os.O_WRONLY)
OSError: [Errno 6] Device not configured: '/dev/tty'
[ERROR   ] A wrong password has been issued while establishing ssh session
[DEBUG   ] Using /etc/salt/keys/araxis-ec2-user as the key_filename
[DEBUG   ] Attempting to authenticate as ec2-user (try 13 of 15)
[DEBUG   ] SSH command: 'ssh -oStrictHostKeyChecking=no -oUserKnownHostsFile=/dev/null -oControlPath=none -oPasswordAuthentication=no -oChallengeResponseAuthentication=no -oPubkeyAuthentication=yes -oKbdInteractiveAuthentication=no -i /etc/salt/keys/araxis-ec2-user -p 22 ec2-user@52.17.178.133 date'
[DEBUG   ] Child Forked! PID: 54114  STDOUT_FD: 4  STDERR_FD: 33
[DEBUG   ] Terminal Command: /bin/sh -c ssh -oStrictHostKeyChecking=no -oUserKnownHostsFile=/dev/null -oControlPath=none -oPasswordAuthentication=no -oChallengeResponseAuthentication=no -oPubkeyAuthentication=yes -oKbdInteractiveAuthentication=no -i /etc/salt/keys/araxis-ec2-user -p 22 ec2-user@52.17.178.133 date
[WARNING ] Failed to spawn the VT: [Errno 6] Device not configured: '/dev/tty'
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 203, in __init__
    self._spawn()
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 394, in _spawn
    self.pid, self.child_fd, self.child_fde = self.__fork_ptys()
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 525, in __fork_ptys
    tty_fd = os.open('/dev/tty', os.O_WRONLY)
OSError: [Errno 6] Device not configured: '/dev/tty'
[ERROR   ] A wrong password has been issued while establishing ssh session
[DEBUG   ] Using /etc/salt/keys/araxis-ec2-user as the key_filename
[DEBUG   ] Attempting to authenticate as ec2-user (try 14 of 15)
[DEBUG   ] SSH command: 'ssh -oStrictHostKeyChecking=no -oUserKnownHostsFile=/dev/null -oControlPath=none -oPasswordAuthentication=no -oChallengeResponseAuthentication=no -oPubkeyAuthentication=yes -oKbdInteractiveAuthentication=no -i /etc/salt/keys/araxis-ec2-user -p 22 ec2-user@52.17.178.133 date'
[DEBUG   ] Child Forked! PID: 54115  STDOUT_FD: 4  STDERR_FD: 35
[DEBUG   ] Terminal Command: /bin/sh -c ssh -oStrictHostKeyChecking=no -oUserKnownHostsFile=/dev/null -oControlPath=none -oPasswordAuthentication=no -oChallengeResponseAuthentication=no -oPubkeyAuthentication=yes -oKbdInteractiveAuthentication=no -i /etc/salt/keys/araxis-ec2-user -p 22 ec2-user@52.17.178.133 date
[WARNING ] Failed to spawn the VT: [Errno 6] Device not configured: '/dev/tty'
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 203, in __init__
    self._spawn()
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 394, in _spawn
    self.pid, self.child_fd, self.child_fde = self.__fork_ptys()
  File "/usr/local/lib/python2.7/site-packages/salt/utils/vt.py", line 525, in __fork_ptys
    tty_fd = os.open('/dev/tty', os.O_WRONLY)
OSError: [Errno 6] Device not configured: '/dev/tty'
[ERROR   ] A wrong password has been issued while establishing ssh session
^C
Exiting gracefully on Ctrl-c
```

And, for good measure, the version information for the salt 2014.7.4 installation:

```
# salt --versions-report
           Salt: 2014.7.4
         Python: 2.7.9 (default, Jan  9 2015, 14:27:53)
         Jinja2: 2.7.3
       M2Crypto: 0.22
 msgpack-python: 0.4.2
   msgpack-pure: Not Installed
       pycrypto: 2.6.1
        libnacl: Not Installed
         PyYAML: 3.11
          ioflo: Not Installed
          PyZMQ: 14.5.0
           RAET: Not Installed
            ZMQ: 4.0.5
           Mako: Not Installed
```
