https://github.com/garethgreenaway/salt/blob/8ee930014aff3e4efadf560562802a0aedf9d0e4/salt/states/file.py#L1386-L1387 adds shell to the kwargs for file.managed check_cmd call, which does not exist on the called function mod_run_check_cmd (https://github.com/garethgreenaway/salt/blob/8ee930014aff3e4efadf560562802a0aedf9d0e4/salt/states/file.py#L4012)
